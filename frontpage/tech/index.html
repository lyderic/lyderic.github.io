<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
	    <meta charset="utf-8" />
	    <title>Lydéric&#39;s Technical Blog</title>
	    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	    <meta name="description" content="" />
	    <meta name="author" content="" />
	    <meta name="keywords" content="" />
	    <meta name="generator" content="JBake" />
	
	    <!-- Le styles -->
	    <link rel="stylesheet" href="css/bootstrap.min.css" />
	    <link rel="stylesheet" href="css/asciidoctor.css" />
	    <link rel="stylesheet" href="css/base.css" />
	    <link rel="stylesheet" href="css/prettify.css" />
	
	    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	    <!--[if lt IE 9]>
	      <script src="js/html5shiv.min.js"></script>
	    <![endif]-->
	
	    <!-- Fav and touch icons -->
	    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png"/>
	    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png"/>
	    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png"/>
	    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png"/>-->
	    <link rel="shortcut icon" href="favicon.ico" />
	</head>
	<body onload="prettyPrint()">
	<div id="wrap">
		<div>
	
	  <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!--
          <a class="navbar-brand" th:with="rootpath=(${content.rootpath != null} ? ${content.rootpath} : '')" th:href="${rootpath}">Lydéric</a>
          -->
          <a class="navbar-brand" href="http://www.lyderic.com" shape="rect">Lydéric</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a shape="rect" href="index.html">Home</a></li>
            <li><a shape="rect" href="about.html">About</a></li>
            <li><a shape="rect" href="feed.xml">Subscribe</a></li>
            <!--
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
            -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

	</div>
		<div class="container">
			<div class="page-header">
				<h1>Lydéric's Technical Blog</h1>
			</div>
			
			<div>
				<a href="blog/2016/02_february/15.html" shape="rect"><h1>Tabular display in Linux terminal</h1></a>
				<p>15 February 2016</p>
				<p><p>A command I like in Linux is 'column'. It allows the display of ordered data (typically CSV) in a tabular way in the Linux terminal.</p><p>For example, assume you have the following file:</p>
<pre><code>$ cat data
server|location|usage
mars.example.com|New York|web
saturn.example.com|Beijing|database
mercury.example.com|Sidney|nosql
</code></pre><p>You can display this file nicely as follows:</p>
<pre><code>$ column -t -s &#39;|&#39; data
server               location  usage
mars.example.com     New York  web
saturn.example.com   Beijing   database
mercury.example.com  Sidney    nosql
</code></pre><p><em>-t</em> indicates that we want tabular display and <em>-s</em> specifies the separator we use. I like to use the pipe ('|') as data separator, but usually the semi colon (';') is used for CSV data.</p></p>
			</div>
			
			<div>
				<a href="blog/2016/02_february/12-01.html" shape="rect"><h1>base64 images in HTML pages</h1></a>
				<p>12 February 2016</p>
				<p><p>I have found out that it is possible to embed images in a HTML page as base64 strings! I like the idea of having everything as text. I use it to display the <em>favicon</em> on the front page of my web site.</p><p>This is very easy:</p><p>Convert your favicon to base64:</p>
<pre><code>$ base64 -w 0 favicon.ico
</code></pre><p>The <em>-w</em> switch is to have the whole string as a single line.</p><p>Include this entry in the <em>&lt;head&gt;</em> section of your HTML page:</p>
<pre><code>&lt;link href=&quot;data:image/x-icon;base64,AAABAAE...fAAD//wAA&quot; rel=&quot;icon&quot; type=&quot;image/x-icon&quot; /&gt;
</code></pre><p>I cut the base64 string a little for better visibility.</p><p>Another cool use of base64.</p></p>
			</div>
			
			<div>
				<a href="blog/2016/02_february/12.html" shape="rect"><h1>Do you need Docker if you have JARs?</h1></a>
				<p>12 February 2016</p>
				<p><p>I am currently playing a lot with Docker and I really like it, weird as it is for a seasoned sysadmin like me. Once you have solved the init PID1 problem (which is easily done with Alpine and Busybox's init), then Docker is a convincing technology for many use cases.</p><p>But I still fail to really appreciate the need for it if all you use are single, fat, executable JARs.</p><p>I build all my application as single JARs. The only dependency I have is the JVM and really, it is not too difficult to keep it current accross all your machines, being metal, KVM or OpenVZ, especially with the help of puppet. So... what are the benefits of encapsulating an executable JAR into a Docker container?</p><p>If things are carefully designed using technologies like Spring Boot, your micro service fits altogether in one JAR and an appropriate application.properties should suffice to run the beast.</p><p>On the other hand, Docker is very well suited for some scenarios. For example if you use python 3 and all the host offers is a python 2 interpreter, if you have separate dependencies and so on.</p><p>But as far as JARs are concerned, I will stick to no Docker for the moment.</p></p>
			</div>
			
			<div>
				<a href="blog/2016/02_february/11-01.html" shape="rect"><h1>Busybox HTTPD</h1></a>
				<p>11 February 2016</p>
				<p><p>I love busybox. It is super simple to compile, fully customizable. It even includes a web server! These are the steps I took to make it work, from source.</p><p>Make sure you have the following packages installed on your machine: git, gcc, make</p><p>Clone the repo:</p>
<pre><code>$ git clone git://busybox.net/busybox.git
</code></pre><p>Compile the source:</p>
<pre><code>$ cd busybox
$ make deconfig
$ make
</code></pre><p>If you have multicore, you can speed up compilation by running (for example if you have 4 cores):</p>
<pre><code>$ make -j 4
</code></pre><p>Once done, you have an executable called 'busybox'. Run it and you will see all the commands included. You run a command as follows, for example to open a vi text editor:</p>
<pre><code>$ ./busybox vi
</code></pre><p>Now, to run a web server, the command is called <em>httpd</em>. Each command has a short help, called with the --help switch. For httpd:</p>
<pre><code>$ ./busybox httpd --help
BusyBox v1.25.0.git (2016-02-11 12:45:41 GMT) multi-call binary.

Usage: httpd [-ifv[v]] [-c CONFFILE] [-p [IP:]PORT] [-u USER[:GRP]] [-r REALM] [-h HOME]
or httpd -d/-e/-m STRING

Listen for incoming HTTP requests

        -i              Inetd mode
        -f              Don&#39;t daemonize
        -v[v]           Verbose
        -p [IP:]PORT    Bind to IP:PORT (default *:80)
        -u USER[:GRP]   Set uid/gid after binding to port
        -r REALM        Authentication Realm for Basic Authentication
        -h HOME         Home directory (default .)
        -c FILE         Configuration file (default {/etc,HOME}/httpd.conf)
        -m STRING       MD5 crypt STRING
        -e STRING       HTML encode STRING
        -d STRING       URL decode STRING
</code></pre><p>So, you can launch a web server for example like this:</p>
<pre><code>$ ./busybox httpd -p 8000 -h /path/to/www/pages
</code></pre><p>There are many more possibilities, including setting up mime types, running CGI scripts etc. <a href="https://wiki.openwrt.org/doc/howto/http.httpd">More information can be found on the OpenWrt wiki site</a> where the configuration file is explained in details.</p></p>
			</div>
			
			<div>
				<a href="blog/2016/02_february/11.html" shape="rect"><h1>Debloat docker</h1></a>
				<p>11 February 2016</p>
				<p><p>I recently read about docker wanting to move all their official images from the likes of Debian/Ubuntu/CentOS to Alpine Linux. This is a fantastic idea!</p><p>Alpine is very small, it is similar to the busybox image, but it includes a package manager (apk, similar to apt-get and yum) and the distribution provides about 6,000 packages, including openjdk (a must for a Spring developer like me).</p><p>The micro images are very easy to use, we go back to the roots of Linux, before systemd, even before sysv ;-) Alpine is now my base image for everything except when I <em>need</em> to have glibc, that is to say when I need to run binaries compiled against it, and it would be too much hassle to recompile against musl (the libc used by Alpine).</p></p>
			</div>
				
			<hr />
			
			<p>Older posts are available in the <a href="archive.html" shape="rect">archive</a>.</p>
		</div>
	</div>
	
	<div>
			<div id="push"></div>
    
		    <div id="footer">
		      <div class="container">
		        <p class="muted credit">&copy; 2016 | Mixed with <a href="http://getbootstrap.com/" shape="rect">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org" shape="rect">JBake <span>v2.4.0</span></a></p>
		      </div>
		    </div>
	    
		    <!-- Le javascript
		    ================================================== -->
		    <!-- Placed at the end of the document so the pages load faster -->
		    <script xml:space="preserve" src="js/jquery-1.11.1.min.js"></script>
		    <script xml:space="preserve" src="js/bootstrap.min.js"></script>
		    <script xml:space="preserve" src="js/prettify.js"></script>
    
    	</div>
    </body>
</html>
