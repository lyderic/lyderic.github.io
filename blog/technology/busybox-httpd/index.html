<!DOCTYPE html>
<html lang="fr-FR" dir="ltr">
<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Busybox HTTPD | De Mundis Lyderici</title>
<link rel="stylesheet" href="/css/normalize.css" />
<link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" media="screen" />
<link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura-dark.css" media="screen and (prefers-color-scheme: dark)" />


<link rel="stylesheet" href="/css/custom.min.css">

</head>
<body>
  <header>
    <nav>
	<div>
		<a href="/">De Mundis Lyderici</a>
	</div>
	<div>
		|
			<a href="/blog/observations/">Observations</a> |
			<a href="/blog/technology/">Technology</a> |
			<a href="/livres/">Mes livres</a> |
	</div>
</nav>


<hr />

  </header>
  <main>
    

  <h3>Busybox HTTPD</h3>

  
	

	<div style="text-align:right;font-style:italic;">
		<time datetime="2016-02-11T16:48:11&#43;00:00">11 février 2016</time>
	</div>

	<hr />

	<div style="text-align:justify;margin-top:2em;">
  <p>I love busybox. It is super simple to compile, fully customizable. It even includes a web server! These are the steps I took to make it work, from source.</p>
<p>Make sure you have the following packages installed on your machine: git, gcc, make</p>
<p>Clone the repo:</p>
<pre><code>$ git clone git://busybox.net/busybox.git
</code></pre>
<p>Compile the source:</p>
<pre><code>$ cd busybox
$ make defconfig
$ make
</code></pre>
<p>If you have multicore, you can speed up compilation by running (for example if you have 4 cores):</p>
<pre><code>$ make -j 4
</code></pre>
<p>Once done, you have an executable called &lsquo;busybox&rsquo;. Run it and you will see all the commands included. You run a command as follows, for example to open a vi text editor:</p>
<pre><code>$ ./busybox vi
</code></pre>
<p>Now, to run a web server, the command is called <em>httpd</em>. Each command has a short help, called with the &ndash;help switch. For httpd:</p>
<pre><code>$ ./busybox httpd --help
BusyBox v1.25.0.git (2016-02-11 12:45:41 GMT) multi-call binary.

Usage: httpd [-ifv[v]] [-c CONFFILE] [-p [IP:]PORT] [-u USER[:GRP]] [-r REALM] [-h HOME]
or httpd -d/-e/-m STRING

Listen for incoming HTTP requests

        -i              Inetd mode
        -f              Don't daemonize
        -v[v]           Verbose
        -p [IP:]PORT    Bind to IP:PORT (default *:80)
        -u USER[:GRP]   Set uid/gid after binding to port
        -r REALM        Authentication Realm for Basic Authentication
        -h HOME         Home directory (default .)
        -c FILE         Configuration file (default {/etc,HOME}/httpd.conf)
        -m STRING       MD5 crypt STRING
        -e STRING       HTML encode STRING
        -d STRING       URL decode STRING
</code></pre>
<p>So, you can launch a web server for example like this:</p>
<pre><code>$ ./busybox httpd -p 8000 -h /path/to/www/pages
</code></pre>
<p>There are many more possibilities, including setting up mime types, running CGI scripts etc. <a href="https://wiki.openwrt.org/doc/howto/http.httpd">More information can be found on the OpenWrt wiki site</a> where the configuration file is explained in details.</p>

	</div>
  



  </main>
  <footer>
    <p style="font-size:small;font-style:italic;text-align:right;">&copy; Lydéric Landry, Luxembourg 2024


<script src="/js/main.js"></script>

  </footer>
</body>
</html>
